version: 1
name: twilio-mcp-server
description: A Model Context Protocol server that exposes Twilio APIs

build:
  dockerfile: Dockerfile
  context: .

runtime:
  ports:
    - "3000:3000"
  environment:
    - NODE_ENV=production
  
  # Health check configuration
  healthCheck:
    type: http
    port: 3000
    path: /health
    interval: 30s
    timeout: 10s
    retries: 3

  # Resource limits
  resources:
    cpu: "1"
    memory: "1Gi"

  # Scaling configuration  
  scaling:
    min: 1
    max: 3
    targetCPUUtilization: 80

security:
  # Secure the container
  runAsNonRoot: true
  readOnlyRootFilesystem: true

  # Allow network access
  allowNetwork: true
  
  # Define capabilities
  capabilities:
    drop:
      - ALL
    add:
      - NET_BIND_SERVICE

# Define volumes if needed
volumes: []

# Define dependencies
dependencies: []